{
  "hash": "98fbd354e2a67ee5a754a8dc91560d10",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Hands On Exercise 2\"\nsubtitle: \"Beyond ggplot2 Fundamentals\"\nformat: html\ndate: 04/22/2025\ndate-format: long\ndate-modified: last-modified\neditor: visual\nexecute:\n  eval: true\n  echo: true\n  warning: false\n  freeze: true\n---\n\n\n\nThere are several ggplot2 extensions for creating more elegant and effective statistical graphics. Let's explore these features!\n\n# Getting Started\n\nBesides tidyverse, four R packages will be used.\n\n-   [**ggrepel**](https://ggrepel.slowkow.com/): to provide geoms for ggplot2 to repel overlapping text labels\n\n-   [**ggthemes**](https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/): to provide extra themes, geoms, and scales for ‘ggplot2’\n\n-   [**hrbrthemes**](https://r-graph-gallery.com/package/hrbrthemes.html): for typography-centric themes and theme components for ggplot2\n\n-   [**patchwork**](https://r-graph-gallery.com/package/patchwork.html): for preparing composite figure created using ggplot2\n\nTo check if these packages have been installed and to load them into your working R environment, run the code below.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(ggrepel, patchwork, ggthemes, hrbrthemes, tidyverse)\n```\n:::\n\n\n\n# Importing Data\n\nThe code chunk below imports *exam_data.csv* into R environment by using *read_csv()* function of [**readr**](#0) package. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nexam_data <- read_csv(\"Exam_data.csv\")\nshow_col_types = FALSE\nknitr::kable(head(exam_data))\n```\n\n::: {.cell-output-display}\n\n\n|ID         |CLASS |GENDER |RACE    | ENGLISH| MATHS| SCIENCE|\n|:----------|:-----|:------|:-------|-------:|-----:|-------:|\n|Student321 |3I    |Male   |Malay   |      21|     9|      15|\n|Student305 |3I    |Female |Malay   |      24|    22|      16|\n|Student289 |3H    |Male   |Chinese |      26|    16|      16|\n|Student227 |3F    |Male   |Chinese |      27|    77|      31|\n|Student318 |3I    |Male   |Malay   |      27|    11|      25|\n|Student306 |3I    |Female |Malay   |      31|    16|      16|\n\n\n:::\n:::\n\n\n\n# What is ggrepel?\n\nOne of the challenge in plotting statistical graph is annotation, especially with large number of data points. Take a look below and see it for yourself.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, \n       aes(x= MATHS, \n           y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              size=0.5) +  \n  geom_label(aes(label = ID), \n             hjust = .5, \n             vjust = -.5) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100)) +\n  ggtitle(\"English scores versus Maths scores for Primary 3\")\n```\n\n::: {.cell-output-display}\n![](HandsOnEx02_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n\n```{.r .cell-code}\nknitr::opts_chunk$set(warning = FALSE)\n```\n:::\n\n\n\nggrepel is an extension of ggplot2 package which provides geoms for ggplot2 to repel overlapping text.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, \n       aes(x= MATHS, \n           y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              size=0.5) +  \n  geom_label_repel(aes(label = ID), \n                   fontface = \"bold\") +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100)) +\n  ggtitle(\"English scores versus Maths scores for Primary 3\")\n```\n\n::: {.cell-output-display}\n![](HandsOnEx02_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\nknitr::opts_chunk$set(warning = FALSE)\n```\n:::\n\n\n\n# Themes\n\nggplot2 comes with eight [built-in themes](https://ggplot2.tidyverse.org/reference/ggtheme.html), they are: `theme_gray()`, `theme_bw()`, `theme_classic()`, `theme_dark()`, `theme_light()`, `theme_linedraw()`, `theme_minimal()`, and `theme_void().`\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"#630e27\") +\n  theme_dark() +\n  ggtitle(\"Distribution of Maths Scores\") \n```\n\n::: {.cell-output-display}\n![](HandsOnEx02_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\nknitr::opts_chunk$set(warning = FALSE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"#630e27\") +\n  ggtitle(\"Distribution of Maths scores\") +\n  theme_ipsum()\n```\n\n::: {.cell-output-display}\n![](HandsOnEx02_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\nknitr::opts_chunk$set(warning = FALSE)\n```\n:::\n\n\n\n# Combining Graphs\n\nLet's create three graphs named p1, p2 and p3.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\np1 <- ggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"#630e27\") + \n  coord_cartesian(xlim=c(0,100)) +\n  ggtitle(\"Distribution of Maths scores\")\nknitr::opts_chunk$set(warning = FALSE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\np2 <- ggplot(data=exam_data, \n             aes(x = ENGLISH)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"black\") +\n  coord_cartesian(xlim=c(0,100)) +\n  ggtitle(\"Distribution of English scores\")\nknitr::opts_chunk$set(warning = FALSE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\np3 <- ggplot(data=exam_data, \n             aes(x= MATHS, \n                 y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              size=0.5) +  \n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100)) +\n  ggtitle(\"English scores versus Maths scores for Primary 3\")\nknitr::opts_chunk$set(warning = FALSE)\n```\n:::\n\n\n\n***Patchwork*** is a ggplot2 extension designed to combine separate ggplot2 graphs into a single figure. Here's the syntax.\n\n-   “/” operator to stack two ggplot2 graphs\n\n-   “\\|” operator to place the plots beside each other\n\n-   “()” operator the define the sequence of the plotting\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\np1 + p2\n```\n\n::: {.cell-output-display}\n![](HandsOnEx02_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n(p1 / p2) | p3\n```\n\n::: {.cell-output-display}\n![](HandsOnEx02_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npatchwork <- (p1 / p2) | p3\npatchwork\n```\n\n::: {.cell-output-display}\n![](HandsOnEx02_files/figure-html/unnamed-chunk-12-1.png){width=1152}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\np3 <- ggplot(data=exam_data, \n             aes(x= MATHS, \n                 y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              size=0.5) +  \n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100)) +\n  ggtitle(stringr::str_wrap(\"English scores versus Maths scores for Primary 3\", width = 30)) +\n  theme_wsj() +\n  theme(plot.title = element_text(hjust = 0.5, size = 15, face = \"bold\"))\n```\n:::\n",
    "supporting": [
      "HandsOnEx02_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}